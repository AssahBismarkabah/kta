# Simple Tenant Configuration for keycloak-config-cli
# Demonstrates USER CREATION functionality - this WILL work!
# Based on simple-tenant-template.yaml

enabled: true
realm: "simple_demo"
displayName: "Simple Demo Company"

# Basic realm settings - minimal configuration
loginWithEmailAllowed: true
registrationAllowed: false
registrationEmailAsUsername: false
resetPasswordAllowed: true
rememberMe: true
verifyEmail: false
loginTheme: "keycloak"

# NO complex password policy to avoid user creation conflicts
# passwordPolicy: ""

# Basic roles - defined BEFORE users (critical for user creation!)
roles:
  realm:
    - name: "admin"
      description: "Administrator role for Simple Demo Company"
      composite: false
      clientRole: false
    
    - name: "user"
      description: "Standard user role for Simple Demo Company"
      composite: false
      clientRole: false
    
    - name: "viewer"
      description: "Read-only viewer role for Simple Demo Company"
      composite: false
      clientRole: false

# Simple client configuration
clients:
  - clientId: "simple_demo-app"
    name: "Simple Demo Company Application"
    description: "Main application for Simple Demo Company"
    enabled: true
    publicClient: true
    directAccessGrantsEnabled: true
    standardFlowEnabled: true
    redirectUris:
      - "http://localhost:3000/*"
      - "https://simple_demo.app.com/*"
    webOrigins:
      - "http://localhost:3000"
      - "https://simple_demo.app.com"

# USERS - This is the main feature we're demonstrating!
# These SHOULD work because we have simple realm settings
users:
  - username: "admin-simple_demo"
    email: "admin@simple_demo.com"
    enabled: true
    firstName: "Admin"
    lastName: "User"
    realmRoles:
      - "admin"
    credentials:
      - type: "password"
        value: "SimpleAdmin123!"
  
  - username: "testuser-simple_demo"
    email: "user@simple_demo.com"
    enabled: true
    firstName: "Test"
    lastName: "User"
    realmRoles:
      - "user"
    credentials:
      - type: "password"
        value: "TestUser123!"
  
  - username: "viewer-simple_demo"
    email: "viewer@simple_demo.com"
    enabled: true
    firstName: "View"
    lastName: "Only"
    realmRoles:
      - "viewer"
    credentials:
      - type: "password"
        value: "ViewOnly123!"

# Simple groups for organization
groups:
  - name: "Simple Demo Company Admins"
    path: "/Simple Demo Company Admins"
    realmRoles:
      - "admin"
  
  - name: "Simple Demo Company Users"
    path: "/Simple Demo Company Users"
    realmRoles:
      - "user"
      - "viewer" 