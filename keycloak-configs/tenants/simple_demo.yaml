# Simple Tenant Template for simple_demo
# This template is optimized for working user creation with keycloak-config-cli

id: "simple_demo"
realm: "simple_demo"
displayName: "Simple Demo Company Services"
enabled: true

# Minimal realm settings for successful user creation
loginTheme: "keycloak"
adminTheme: "keycloak"
accountTheme: "keycloak"
emailTheme: "keycloak"

# Basic password policy (same as working_demo)
passwordPolicy: "length(8)"

# Authentication settings (same as working_demo)
registrationAllowed: false
rememberMe: true
verifyEmail: false
loginWithEmailAllowed: true
duplicateEmailsAllowed: false
resetPasswordAllowed: true

# Session timeouts (same as working_demo)
ssoSessionIdleTimeout: 1800
ssoSessionMaxLifespan: 36000

# Realm roles
roles:
  realm:
    - name: "admin"
      description: "Administrator role for Simple Demo Company"
    - name: "user"
      description: "Standard user role for Simple Demo Company"

# Client configuration (simplified like working_demo)
clients:
  - clientId: "simple_demo-app"
    name: "Simple Demo Company Application"
    enabled: true
    publicClient: true
    directAccessGrantsEnabled: true
    standardFlowEnabled: true
    protocol: "openid-connect"
    webOrigins:
      - "http://localhost:3000"
    redirectUris:
      - "http://localhost:3000/*"

# Groups configuration
groups:
  - name: "Administrators"
    path: "/Administrators"
    realmRoles:
      - "admin"
  - name: "Users"
    path: "/Users"
    realmRoles:
      - "user"

# User configuration - THIS SHOULD WORK NOW!
users:
  - username: "admin-simple_demo"
    email: "admin@simple_demo.example.com"
    firstName: "Simple Demo Company"
    lastName: "Administrator"
    enabled: true
    emailVerified: true
    credentials:
      - type: "password"
        value: "#Y1rVk@WZL#dp2!U"
        temporary: false
    realmRoles:
      - "admin"
    groups:
      - "/Administrators"
  
  - username: "user-simple_demo"
    email: "user@simple_demo.example.com"
    firstName: "Test"
    lastName: "User"
    enabled: true
    emailVerified: true
    credentials:
      - type: "password"
        value: "TestUser123!"
        temporary: false
    realmRoles:
      - "user"
    groups:
      - "/Users" 